const themeSlider = (elements, isMobile) => {
  const elementsSlide = document.querySelectorAll(elements);
  const widthViewport = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
  elementsSlide.forEach((element) => {
    const slideCount = element.querySelectorAll(".swiper-slide").length;

    if (slideCount > 1) {
      const delay = element.getAttribute("duration") * 1000 ?? 5000;
      const autoSlide = element.getAttribute("data-auto-play") === "true";
      const pagination = element.getAttribute("data-pagination") === "true";
      const navigation = element.getAttribute("data-navigation") === "true";
      const loop = element.getAttribute("data-loop") === "true" ? true : false;
      let slidesPerView = element.getAttribute("slides-per-view") ?? 1;
      if (isMobile & widthViewport < 768) {
        slidesPerView = 2
      }
      const speed = element.getAttribute("speed") ?? 500;

      const swiper = new Swiper(element, {
        autoplay: autoSlide ? { delay, disableOnInteraction: true } : false,
        speed,
        loop,
        slidesPerView,
        slidesPerGroup:Number(slidesPerView),
        pagination: pagination ?{
          el: '.swiper-pagination',
          clickable: true,
        } : false,
        navigation: navigation ? {
          nextEl: '.swiper-button-next',
          prevEl: '.swiper-button-prev',
        } : false,
      });
    }
  });
};

themeSlider(".swiper.mega_menu-collections", true);
themeSlider(".swiper.annountcement-bar");
themeSlider(".swiper.mega-menu-images", true)
themeSlider(".swiper.mega-menu-products", true)
themeSlider(".swiper.sn-slideshow");
themeSlider(".swiper.sn-collection-list",true);
